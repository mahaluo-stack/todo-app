<div
    style="width: 100vw; max-width: 100vw; height: 90vh; max-height: 90vh; margin-top: 3vh; display: flex; flex-direction: row; justify-content: center;">

    <app-todo-list style="width: 20%; height: 100%;" [dateString]="selectedDateString" [todoList]="todoList"
        (todoEvent)="updateTodos($event)">
    </app-todo-list>

    <div style="width: 60%; height: 100%; display: flex; flex-direction: column; align-items: center;">
        <div style="width: 100%; height: 10%; display: flex; flex-direction: column;">
            <div
                style="width: 100%; height: 50%; display: flex; flex-direction: row; justify-content: space-between; border-bottom: 1px solid black;">
                <div
                    style="height: 100%; margin-left: 1%; display: flex; flex-direction: row; align-items: center; justify-content: flex-start;">
                    <p id="{{currentMonthName}}" style="padding: 0; margin: 0 5px 0 0;">{{currentMonthName}}</p><p id="{{currentYear.toString()}}" style="padding: 0; margin: 0;">{{currentYear.toString()}}</p>
                </div>
                <div
                    style="height: 100%; display: flex; flex-direction: row; justify-content: flex-end; margin-top: 1px;">
                    <div class="headerBtn" style="display: flex; justify-content: center; align-items: center;"
                        (click)="update(-1)">
                        <p id="prevBtn">{{prevBtn}}</p>
                    </div>
                    <div class="headerBtn" style="display: flex; justify-content: center; align-items: center;"
                        (click)="setToday()">
                        <p id="todayBtn">{{todayBtn}}</p>
                    </div>
                    <div class="headerBtn" style="display: flex; justify-content: center; align-items: center;"
                        (click)="update(1)">
                        <p id="nextBtn">{{nextBtn}}</p>
                    </div>
                </div>
            </div>
            <div style="width: 100%; height: 50%; display: flex; flex-direction: row; justify-content: space-evenly;">
                <div style="width: calc(100% - 2px); height: 100%; background-color: white; display: flex; flex-direction: column; justify-content: flex-end;"
                    *ngFor="let day of days">
                    <p [id]="day" style="padding: 0; margin: 0;" [ngStyle]="{'color': (days[today.getDay() - 1] === day) ? 'red' : 'black'}">
                        {{day}}</p>
                </div>
            </div>
        </div>

        <div style="width: 100%; height: calc(90%); display: flex; flex-direction: row;" class="calendarWrapper">
            <div class="calendarGrid">
                <div style="overflow: hidden; overflow-y: auto; cursor: pointer;"
                    [ngClass]="date.dateString === selectedDateString ? 'selectedCell' : 'idleCell'"
                    id="{{date.todayClass}}" *ngFor="let date of dates;" (click)="handleSelectDate(date.key)">
                    <p id="{{date.id}}" style="padding: 0; margin: 1px auto auto 1px;">
                        {{date.date}}
                    </p>
                    <div *ngFor="let todo of date.todoList;" class="textWrapper">
                        <p [id]="todo.title" style="padding: 0; margin: 0; color: black;">{{todo.title}}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>